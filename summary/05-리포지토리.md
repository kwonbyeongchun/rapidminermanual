# 5장. 리포지토리

테이블, 데이터베이스, 텍스트, 로그 파일, 웹사이트, 측정값 등이 모든 데이터 마이닝 프로세스의 시작점입니다. 이 장에서는 RapidMiner Studio의 리포지토리를 사용하여 이러한 모든 객체를 관리하는 방법을 알아봅니다.

---

## 5.1 RapidMiner Studio 리포지토리

### 파일 시스템의 한계

일반 파일 시스템을 사용한 프로젝트 관리의 문제점:

- 기밀성/저장 공간 제약으로 로컬 파일 생성 불가능한 경우
- 로컬 프로세스를 원격 서버에서 실행 시 경로 수정 필요
- 공동 작업을 위한 권한 및 버전 관리 부재
- 다양한 파일 형식의 매개변수(구분자, 인코딩 등) 매번 재설정 필요
- 중간 결과와 프로세스 변형의 추적 어려움
- 파일 주석 기능 미지원

### 리포지토리의 이점

RapidMiner의 리포지토리는 이러한 문제들을 해결합니다:

| 이점 | 설명 |
|------|------|
| **상대 경로** | 데이터, 프로세스, 결과가 상대적 위치에 저장, 투명하게 작동 |
| **원클릭 접근** | 추가 설정 없이 한 번의 클릭으로 데이터 열기/확인 가능 |
| **메타 정보** | 모든 입출력 데이터에 메타 정보 첨부, 일관성/무결성 보장 |
| **설계 시점 검증** | 메타 데이터를 활용한 프로세스 검증 및 도우미 제공 |
| **개요 확인** | 파일을 열지 않고도 특성 및 메모 확인 가능 |

리포지토리는 **로컬**, **공유 파일 시스템**, 또는 **RapidMiner Server**를 통해 제공될 수 있습니다.

### 5.1.1 새 리포지토리 만들기

1. 리포지토리 뷰 도구 모음의 **첫 번째 버튼** 클릭
2. **로컬 리포지토리** 선택 (RapidMiner Server가 없는 경우)
3. 리포지토리 **이름** 지정
4. 생성할 **디렉터리** 선택
5. **Finish**로 완료

---

## 5.2 리포지토리 사용하기

### 권장 디렉터리 구조

프로젝트에 **통일된 디렉터리 구조**를 사용하는 것이 좋습니다:

```
MyRepository/
├── ProjectA/
│   ├── Processes/      # 분석 프로세스
│   ├── Data/           # 입력 데이터
│   └── Results/        # 결과
├── ProjectB/
│   ├── Processes/
│   ├── Data/
│   └── Results/
└── ...
```

디렉터리는 리포지토리 뷰의 **컨텍스트 메뉴** 또는 **도구 모음 버튼**으로 생성합니다.

### 5.2.1 프로세스와 상대 리포지토리 경로 표기

#### 경로 유형

| 유형 | 형식 | 설명 |
|------|------|------|
| **절대 경로** | `//RepositoryName/Folder/File` | 리포지토리 이름부터 시작 |
| **리포지토리 상대** | `/Folder/File` | 같은 리포지토리 내 절대 경로 |
| **프로세스 상대** | `../Folder/File` | 프로세스 위치 기준 상대 경로 |

#### 프로세스 저장

- **컨텍스트 메뉴** > "Store Process" 또는 **File 메뉴** > "Save Process"
- 리포지토리 브라우저에서 저장 위치 지정

> **참고**: 프로세스가 리포지토리에 저장된 후에는 RapidMiner Studio가 **자동으로 상대 경로를 사용**합니다. 이는 리포지토리 재구성과 공유를 용이하게 합니다.

### 5.2.2 리포지토리로 데이터 및 객체 가져오기

#### 방법 1: 마법사(Wizard) 사용

다양한 파일 형식과 데이터베이스에 대해 **단계별 마법사**가 제공됩니다.

- 리포지토리 뷰 상단의 **가져오기 아이콘** 또는 **File 메뉴**에서 시작
- 속성 유형, 값 범위, 역할 등 **메타데이터 할당** 가능
- 지원 형식: CSV, Excel, Access, SQL 데이터베이스 등

#### 방법 2: 드래그 앤 드롭

가져올 파일을 **Process View로 직접 드래그**하면 적절한 오퍼레이터가 자동 생성됩니다.

#### 방법 3: Store 오퍼레이터

프로세스 내에서 **"Store" 오퍼레이터**를 사용하여 결과를 리포지토리에 저장합니다.

- 매개변수: **repository location** (리포지토리 위치)
- 폴더 버튼으로 리포지토리 브라우저 열기
- 데이터 세트뿐만 아니라 **모델 및 모든 RapidMiner 객체** 저장 가능
- **자동화된 ETL 프로세스**에 특히 유용 (RapidMiner Server 스케줄러와 함께)

#### 방법 4: Import 그룹 오퍼레이터

Operators View의 "Import" 그룹에서 다양한 형식 가져오기 오퍼레이터 사용.

> **주의**: Import 오퍼레이터에서는 메타데이터 가용성이 보장되지 않으므로, **ETL 프로세스 → Store 오퍼레이터 → 리포지토리 저장** 워크플로우를 권장합니다.

#### 방법 5: 결과 뷰/프로세스 뷰에서 저장

- **Results Perspective**: 도구 모음 오른쪽의 저장 버튼
- **Process View**: 출력 포트 컨텍스트 메뉴 > "Store in Repository"

---

## 5.3 데이터와 메타 데이터

### 리포지토리에 저장되는 정보

리포지토리에 데이터를 저장하면 **데이터 자체**뿐만 아니라 다음 **메타 데이터**도 함께 저장됩니다:

- 속성 이름과 **값 유형** (nominal, numeric, text 등)
- 속성의 **역할** (label, id, weight 등)
- **통계 정보** (평균, 최솟값, 최댓값, 누락값 수 등)
- 사용자가 추가한 **주석(Annotations)**

### 5.3.1 메타 데이터 보기

리포지토리의 데이터 항목에 커서를 올리면 **메타 데이터 미리보기**가 표시됩니다.

표시되는 정보:
- 예제(행) 수
- 속성(열) 수 및 목록
- 각 속성의 값 유형과 역할
- 기본 통계

### 리포지토리의 컨텍스트 메뉴 주요 동작

| 동작 | 설명 |
|------|------|
| **Open** | 데이터/프로세스 열기 |
| **Rename** | 이름 변경 |
| **Move** | 다른 위치로 이동 |
| **Copy/Paste** | 복사/붙여넣기 |
| **Delete** | 삭제 |
| **Store Process** | 현재 프로세스를 여기에 저장 |
| **Create Folder** | 새 폴더 생성 |
| **Refresh** | 내용 새로고침 |
| **Show in File System** | 파일 시스템에서 위치 표시 |

---

## 요약: 리포지토리 사용의 모범 사례

1. **항상 리포지토리를 사용**하여 데이터와 프로세스를 관리하세요
2. **통일된 디렉터리 구조**를 유지하세요 (프로젝트/프로세스/데이터/결과)
3. **상대 경로**를 사용하세요 (RapidMiner가 자동으로 처리)
4. 외부 데이터는 **마법사 또는 ETL 프로세스**로 리포지토리에 가져오세요
5. 메타 데이터를 활용하여 **설계 시점에 프로세스를 검증**하세요
6. 중간 결과와 모델도 **리포지토리에 저장**하여 추적하세요
